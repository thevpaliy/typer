{% extends "base.html" %}
{% block app_content %}

<div class="d-flex metrics flex-column justify-content-center align-items-center">
    <div class="my-2" align="center">
        <img src="{{ current_user.avatar(128) }}" alt="User avatar" class="my-2 avatar" />
        <h1>{{ current_user.username }}</h1>
        <h5>Average scores</h5>
    </div>
    <div class="d-flex justify-content-center align-items-center">
        <div class="p-2 mx-2" align="center">
            <h1 id="words-score" class="metric-value">{{ words }}</h1>
            <h5 class="metric-title">words / min</h5>
        </div>
        <div class="p-2 mx-2" align="center">
            <h1 id="chars-score" class="metric-value">{{ chars }}</h1>
            <h5 class="metric-title">chars / min</h5>
        </div>
        <div class="p-2 mx-2" align="center">
            <h1 id="accuracy-score"  class="metric-value">{{ accuracy }}</h1>
            <h5 class="metric-title">% / accuracy</h5>
        </div>
        <div class="p-2 mx-2" align="center">
            <h1 class="metric-value">{{ count }}</h1>
            <h5 class="metric-title">Tests Taken</h5>
        </div>
    </div>
</div>

<div class="my-3 mx-2"align="center">
    <canvas id="words"></canvas>
</div>
{% endblock %}

{% block scripts %}
{{super()}}
  <script type=text/javascript>
    var statistics = {{ statistics |tojson|safe }};
  </script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.js"></script>
  <script src="{{url_for('static', filename='js/dashboard.js')}}"></script>
{% endblock %}
